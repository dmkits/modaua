<!DOCTYPE HTML>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title></title>
</head>
<body>
<div id="dir_products_PageContainer" style="width: 100%; height: 100%;">
    <div id="dir_products_ContentPaneLeft" style="width:170px;height:100%; margin:0;padding:0;">
        <table style="width:100%;">
            <tr><th>Товарные номенклатуры</th></tr>
            <tr><td>
                <button id="dir_products_Btn_viewProducts">Товарные номенклатуры</button>
                <br><br>
                <button id="dir_products_Btn_viewGenders">Группы номенклатур</button>
                <button id="dir_products_Btn_viewCategories">Категории номенклатур</button>
                <button id="dir_products_Btn_viewSubcategories">Подкатегории номенклатур</button>
                <br><br>
            </td></tr>
        </table>
    </div>
    <div id="dir_products_ContentContainer" style="width:100%;height:100%; margin:0;padding:0;"></div>
</div>
</body>
<script type="text/javascript">
    require(["app", "dojo/dom-style", "dijit/layout/BorderContainer", "dijit/layout/StackContainer", "dijit/layout/ContentPane",
                "dijit/form/Button", "templateDocumentSimpleTableEditable"],
            function (APP, domStyle, BorderContainer, StackContainer, ContentPane, Button, TDocumentSimpleTableEditable) {
                var dir_products_PageContainer=
                        APP.instanceForID("dir_products_PageContainer", BorderContainer, {});
                APP.instanceForID("dir_products_ContentPaneLeft", ContentPane, {region:'left', splitter:false});
                var dir_products_Btn_viewProducts=
                        APP.instanceForID("dir_products_Btn_viewProducts", Button, {style:"width:100px"});
                domStyle.set("dir_products_Btn_viewProducts", "width", "155px");
                var dir_products_Btn_viewGenders=
                        APP.instanceForID("dir_products_Btn_viewGenders", Button, {style:"width:100px"});
                domStyle.set("dir_products_Btn_viewGenders", "width", "155px");
                var dir_products_Btn_viewCategories=
                        APP.instanceForID("dir_products_Btn_viewCategories", Button, {style:"width:100px"});
                domStyle.set("dir_products_Btn_viewCategories", "width", "155px");
                var dir_products_Btn_viewSubcategories=
                        APP.instanceForID("dir_products_Btn_viewSubcategories", Button, {style:"width:100px"});
                domStyle.set("dir_products_Btn_viewSubcategories", "width", "155px");
                var dir_products_ContentContainer=
                        APP.instanceForID("dir_products_ContentContainer", StackContainer, {region:'center'});

                dir_products_Btn_viewProducts.onClick= function(){
                    if (!dir_products_Btn_viewProducts.document){
                        dir_products_Btn_viewProducts.document =
                                APP.childFor(dir_products_ContentContainer, "dir_products_TableProducts",
                                        TDocumentSimpleTableEditable, {titleText:"Товарные номенклатуры",
                                            dataURL:"/dir/products/getDataForDirProductsTable",
                                            dataStoreURL:"/dir/products/storeDirProductsTableData",
                                            rightPane:true, rightPaneWidth:180})
                                        .addTotalCountNumberBox("ИТОГО строк:", 140, {style:"font-weight:bold;",inputStyle:"width:50px"})
                                        .addToolPane("Действия")
                                        .addToolPaneTableActionButton("Изменить строку", {action:"allowEditTableSelectedRow"}, "width:145px;")
                                        .addToolPaneTableActionButton("Сохранить строку", {action:"storeTableSelectedRow"}, "width:145px;")
//                                        .addToolPaneTableActionButton("Удалить строку", {action:"deleteTableSelectedRow"}, "width:145px;")
                                        .startUp();
                    }
                    dir_products_ContentContainer.selectChild(dir_products_Btn_viewProducts.document);
                };
                dir_products_Btn_viewGenders.onClick= function(){
                    if (!dir_products_Btn_viewGenders.document){
                        dir_products_Btn_viewGenders.document =
                                APP.childFor(dir_products_ContentContainer, "dir_products_TableProductsGenders",
                                        TDocumentSimpleTableEditable, {titleText:"Группы номенклатур", dataURL:"/dir/products/get_products_genders"})
                                        .addTotalCountNumberBox("ИТОГО строк:", 140, {style:"font-weight:bold;",inputStyle:"width:50px"})
                                        .startUp();
                    }
                    dir_products_ContentContainer.selectChild(dir_products_Btn_viewGenders.document);
                };
                dir_products_Btn_viewCategories.onClick= function(){
                    if (!dir_products_Btn_viewCategories.document){
                        dir_products_Btn_viewCategories.document =
                                APP.childFor(dir_products_ContentContainer, "dir_products_TableProductsCategories",
                                        TDocumentSimpleTableEditable, {titleText:"Категории номенклатур", dataURL:"/dir/products/get_products_categories"})
                                        .addTotalCountNumberBox("ИТОГО строк:", 140, {style:"font-weight:bold;",inputStyle:"width:50px"})
                                        .startUp();
                    }
                    dir_products_ContentContainer.selectChild(dir_products_Btn_viewCategories.document);
                };
                dir_products_Btn_viewSubcategories.onClick= function(){
                    if (!dir_products_Btn_viewSubcategories.document){
                        dir_products_Btn_viewSubcategories.document =
                                APP.childFor(dir_products_ContentContainer, "dir_products_TableProductsSubCategories",
                                        TDocumentSimpleTableEditable, {titleText:"Подкатегории номенклатур", dataURL:"/dir/products/get_products_subcategories"})
                                        .addTotalCountNumberBox("ИТОГО строк:", 140, {style:"font-weight:bold;",inputStyle:"width:50px"})
                                        .startUp();
                    }
                    dir_products_ContentContainer.selectChild(dir_products_Btn_viewSubcategories.document);
                };

                dir_products_PageContainer.layout();
                dir_products_Btn_viewProducts.onClick();
            });
</script>
</html>